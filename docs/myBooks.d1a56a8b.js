!function(e,t,n,o,i){var d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r="function"==typeof d[o]&&d[o],l=r.cache||{},a="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function u(t,n){if(!l[t]){if(!e[t]){var i="function"==typeof d[o]&&d[o];if(!n&&i)return i(t,!0);if(r)return r(t,!0);if(a&&"string"==typeof t)return a(t);var c=Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}f.resolve=function(n){var o=e[t][1][n];return null!=o?o:n},f.cache={};var s=l[t]=new u.Module(t);e[t][0].call(s.exports,f,s,s.exports,d)}return l[t].exports;function f(e){var t=f.resolve(e);return!1===t?{}:u(t)}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=l,u.parent=r,u.register=function(t,n){e[t]=[function(e,t){t.exports=n},{}]},Object.defineProperty(u,"root",{get:function(){return d[o]}}),d[o]=u;for(var c=0;c<t.length;c++)u(t[c]);if(n){var s=u(n);"object"==typeof exports&&"undefined"!=typeof module?module.exports=s:"function"==typeof define&&define.amd&&define(function(){return s})}}({g5uBP:[function(e,t,n,o){var i=e("../scripts/firebase.js"),d=e("firebase/firestore");document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("bookList"),t=document.getElementById("editModal"),n=document.getElementById("editForm"),o=document.querySelector(".close-btn"),r=null;async function l(){e.innerHTML="";let t=(0,d.collection)(i.db,"books");(await (0,d.getDocs)(t)).docs.map(e=>({id:e.id,...e.data()})).forEach(t=>{let n=document.createElement("li");n.innerHTML=`
        <span><strong>${t.title}</strong> by ${t.author} (${t.genre}) \u{2B50}${t.rating}</span>
        <button class="edit-btn" data-id="${t.id}">Edit</button>
        <button class="delete-btn" data-id="${t.id}">Delete</button>
      `,e.appendChild(n)})}async function a(e){try{await (0,d.deleteDoc)((0,d.doc)(i.db,"books",e)),console.log("Book deleted:",e),l()}catch(e){console.error("Error deleting book:",e)}}async function u(e){try{let n=(0,d.doc)(i.db,"books",e),o=await (0,d.getDoc)(n);if(o.exists()){let n=o.data();r=e,document.getElementById("editTitle").value=n.title,document.getElementById("editAuthor").value=n.author,document.getElementById("editGenre").value=n.genre,document.getElementById("editRating").value=n.rating,t.style.display="block"}else console.log("Book doesn't exist!")}catch(e){console.error("Error fetching book for edit:",e)}}n.addEventListener("submit",async e=>{e.preventDefault();let n=document.getElementById("editTitle").value.trim(),o=document.getElementById("editAuthor").value.trim(),a=document.getElementById("editGenre").value,u=document.getElementById("editRating").value;try{let e=(0,d.doc)(i.db,"books",r);await (0,d.updateDoc)(e,{title:n,author:o,genre:a,rating:u}),console.log("Book updated:",r),t.style.display="none",l()}catch(e){console.error("Error updating book:",e)}}),o.addEventListener("click",()=>{t.style.display="none"}),window.addEventListener("click",e=>{e.target===t&&(t.style.display="none")}),e.addEventListener("click",e=>{e.target.classList.contains("delete-btn")?a(e.target.getAttribute("data-id")):e.target.classList.contains("edit-btn")&&u(e.target.getAttribute("data-id"))}),l()})},{"../scripts/firebase.js":"6JwWS","firebase/firestore":"59KHr"}]},["g5uBP"],"g5uBP","parcelRequire94c2");
//# sourceMappingURL=myBooks.d1a56a8b.js.map
